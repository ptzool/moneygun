<div class="container mx-auto px-6">
  <div class="bg-white rounded-lg shadow">
      <div class="flex items-center justify-between p-6 border-b border-gray-200">
        <h2 class="text-lg font-medium">Project Form</h2>
      </div>
    <div class="px-6">
        <% if project.errors.any? %>
        <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3">
            <h2><%= pluralize(project.errors.count, "error") %> prohibited this project from being saved:</h2>

            <ul>
            <% project.errors.each do |error| %>
                <li><%= error.full_message %></li>
            <% end %>
            </ul>
        </div>
        <% end %>
    </div>
    <div class="px-6 pb-6">
        <%= form_with(model: [ @organization, project ], class: "space-y-6") do |form| %>
            <% if project.errors.any? %>
                <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3">
                <h2><%= pluralize(project.errors.count, "error") %> prohibited this project from being saved:</h2>
                <ul>
                    <% project.errors.each do |error| %>
                    <li><%= error.full_message %></li>
                    <% end %>
                </ul>
                </div>
            <% end %>
            <div>
                <%= form.label :name, class: "block text-sm font-medium text-gray-700 mb-2" %>
                <%= form.text_field :name, class: "w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
            </div>
            <div>
                <%= form.label :description, class: "block text-sm font-medium text-gray-700 mb-2" %>
                <%= form.text_field :description,  class: "w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2"><%= form.label :file_field %></label>
                <div class="flex items-center space-x-2">
                    <%= form.file_field :project_logo, multiple: false, class: "px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50" %>
                </div>
            </div>
            <div>
                <%= form.label :project_manager_id, class: "block text-sm font-medium text-gray-700 mb-2" %>
                <%= form.select :project_manager_id, @project_managers.map { |c| [ c.user.full_name, c.id ] }, { prompt: "VÃ¡lassz project managert" }, { class: "w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" } %>
            </div>
            <div>
                <%= form.label :archived, class: "block text-sm font-medium text-gray-700 mb-2" %>
                <%= form.check_box :archived, class: "w-4 h-4 text-blue-600 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" %>
            </div>
            <!-- File Upload -->
            <div>
                <% @project.project_attachments.each do |attachment| %>
                    <%= form.hidden_field :project_attachments, multiple: true, value: attachment.signed_id %>
                <% end %>
                <label class="block text-sm font-medium text-gray-700 mb-2"><%= form.label :project_attachments %></label>
                <div class="flex items-center space-x-2">
                <%= form.file_field :project_attachments, multiple: true, class: "px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50" %>
                </div>
            </div>
            <div class="flex space-x-4">
                <%= form.submit class: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700" %>
            </div>
        <% end %>
    </div>
  </div>
</div>
